Rholang File
  PsiComment(LINE_COMMENT)('// A token contract that implements the ERC20 standard.')
  PsiWhiteSpace('\n')
  PsiComment(LINE_COMMENT)('// This contract demonstrates the creation of a token,')
  PsiWhiteSpace('\n')
  PsiComment(LINE_COMMENT)('// the transferring of tokens, the querying of a balance,')
  PsiWhiteSpace('\n')
  PsiComment(LINE_COMMENT)('// and the printing of the balance query result.')
  PsiWhiteSpace('\n\n')
  RhoProcImpl(PROC)
    PsiElement(new)('new')
    PsiWhiteSpace(' ')
    RhoVarPatternImpl(VAR_PATTERN)
      PsiElement(VAR)('token')
    PsiWhiteSpace(' ')
    PsiElement(in)('in')
    PsiWhiteSpace(' ')
    RhoProcBlockImpl(PROC_BLOCK)
      PsiElement({)('{')
      PsiWhiteSpace('\n    ')
      RhoProcImpl(PROC)
        PsiElement(contract)('contract')
        PsiWhiteSpace(' ')
        RhoContractNameImpl(CONTRACT_NAME)
          PsiElement(VAR)('token')
        PsiWhiteSpace(' ')
        PsiElement(()('(')
        RhoCPatternImpl(C_PATTERN)
          RhoCPattern_Impl(C_PATTERN_)
            RhoVarPatternImpl(VAR_PATTERN)
              PsiElement(VAR)('message_sender')
              PsiElement(,)(',')
              PsiWhiteSpace(' ')
              PsiElement(VAR)('total_supply')
              PsiElement(,)(',')
              PsiWhiteSpace(' ')
              PsiElement(VAR)('return_channel')
        PsiElement())(')')
        PsiWhiteSpace(' ')
        PsiElement(=)('=')
        PsiWhiteSpace(' ')
        RhoProcBlockImpl(PROC_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          RhoProcImpl(PROC)
            PsiElement(new)('new')
            PsiWhiteSpace(' ')
            RhoVarPatternImpl(VAR_PATTERN)
              PsiElement(VAR)('allowed_channel')
              PsiElement(,)(',')
              PsiWhiteSpace(' ')
              PsiElement(VAR)('balances_channel')
              PsiElement(,)(',')
              PsiWhiteSpace(' ')
              PsiElement(VAR)('owner_channel')
            PsiWhiteSpace(' ')
            PsiElement(in)('in')
            PsiWhiteSpace(' ')
            RhoProcBlockImpl(PROC_BLOCK)
              PsiElement({)('{')
              PsiWhiteSpace('\n            ')
              RhoProcImpl(PROC)
                RhoChanImpl(CHAN)
                  PsiElement(VAR)('allowed_channel')
                PsiElement(!)('!')
                RhoProcParenImpl(PROC_PAREN)
                  PsiElement(()('(')
                  RhoProcImpl(PROC)
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('Map')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      PsiElement())(')')
                  PsiElement())(')')
                PsiWhiteSpace(' ')
                PsiElement(|)('|')
                PsiWhiteSpace('\n            ')
                RhoChanImpl(CHAN)
                  PsiElement(VAR)('owner_channel')
                PsiElement(!)('!')
                RhoProcParenImpl(PROC_PAREN)
                  PsiElement(()('(')
                  RhoProcImpl(PROC)
                    RhoValueImpl(VALUE)
                      RhoQuantityImpl(QUANTITY)
                        RhoQValImpl(Q_VAL)
                          PsiElement(VAR)('message_sender')
                  PsiElement())(')')
                PsiWhiteSpace(' ')
                PsiElement(|)('|')
                PsiWhiteSpace('\n            ')
                RhoChanImpl(CHAN)
                  PsiElement(VAR)('balances_channel')
                PsiElement(!)('!')
                RhoProcParenImpl(PROC_PAREN)
                  PsiElement(()('(')
                  RhoProcImpl(PROC)
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('Map')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      PsiElement())(')')
                  PsiElement())(')')
                PsiWhiteSpace(' ')
                PsiElement(|)('|')
                PsiWhiteSpace('\n            ')
                PsiElement(for)('for')
                PsiWhiteSpace(' ')
                RhoBindParenImpl(BIND_PAREN)
                  PsiElement(()('(')
                  RhoBindImpl(BIND)
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('balances')
                    PsiWhiteSpace(' ')
                    PsiElement(<)('<')
                    PsiElement(-)('-')
                    PsiWhiteSpace(' ')
                    RhoChanImpl(CHAN)
                      PsiElement(VAR)('balances_channel')
                  PsiElement())(')')
                PsiWhiteSpace(' ')
                RhoProcBlockImpl(PROC_BLOCK)
                  PsiElement({)('{')
                  PsiWhiteSpace('\n                ')
                  RhoProcImpl(PROC)
                    RhoChanImpl(CHAN)
                      PsiElement(VAR)('balances_channel')
                    PsiElement(!)('!')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      PsiWhiteSpace(' ')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(VAR)('balances')
                              PsiElement(.)('.')
                              RhoProcImpl(PROC)
                                RhoConstrNameImpl(CONSTR_NAME)
                                  PsiElement(VAR)('insert')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('message_sender')
                                    PsiElement(,)(',')
                                    PsiWhiteSpace(' ')
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('total_supply')
                                  PsiElement())(')')
                      PsiWhiteSpace(' ')
                      PsiElement())(')')
                  PsiWhiteSpace('\n            ')
                  PsiElement(})('}')
                PsiWhiteSpace(' ')
                PsiElement(|)('|')
                PsiWhiteSpace('\n            ')
                PsiElement(new)('new')
                PsiWhiteSpace(' ')
                RhoVarPatternImpl(VAR_PATTERN)
                  PsiElement(VAR)('transfer')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('transfer_from')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('approve')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('balance_of')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('allowance')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('contract_owner')
                PsiWhiteSpace(' ')
                PsiElement(in)('in')
                PsiWhiteSpace(' ')
                RhoProcBlockImpl(PROC_BLOCK)
                  PsiElement({)('{')
                  PsiWhiteSpace('\n                ')
                  RhoProcImpl(PROC)
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('transfer')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('message_sender')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('to')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('amount')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('balances')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('balances_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            PsiElement(new)('new')
                            PsiWhiteSpace(' ')
                            RhoVarPatternImpl(VAR_PATTERN)
                              PsiElement(VAR)('x')
                              PsiElement(,)(',')
                              PsiWhiteSpace(' ')
                              PsiElement(VAR)('y')
                            PsiWhiteSpace(' ')
                            PsiElement(in)('in')
                            PsiWhiteSpace(' ')
                            RhoProcBlockImpl(PROC_BLOCK)
                              PsiElement({)('{')
                              PsiWhiteSpace('\n                            ')
                              RhoProcImpl(PROC)
                                RhoChanImpl(CHAN)
                                  PsiElement(VAR)('x')
                                PsiElement(!)('!')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('balances')
                                          PsiElement(.)('.')
                                          RhoProcImpl(PROC)
                                            RhoConstrNameImpl(CONSTR_NAME)
                                              PsiElement(VAR)('getOrElse')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('message_sender')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                              PsiElement())(')')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(|)('|')
                                PsiWhiteSpace('\n                            ')
                                RhoChanImpl(CHAN)
                                  PsiElement(VAR)('y')
                                PsiElement(!)('!')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('balances')
                                          PsiElement(.)('.')
                                          RhoProcImpl(PROC)
                                            RhoConstrNameImpl(CONSTR_NAME)
                                              PsiElement(VAR)('getOrElse')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('to')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                              PsiElement())(')')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(|)('|')
                                PsiWhiteSpace('\n                            ')
                                PsiElement(for)('for')
                                PsiWhiteSpace(' ')
                                RhoBindParenImpl(BIND_PAREN)
                                  PsiElement(()('(')
                                  RhoBindImpl(BIND)
                                    RhoCPatternImpl(C_PATTERN)
                                      RhoCPattern_Impl(C_PATTERN_)
                                        RhoVarPatternImpl(VAR_PATTERN)
                                          PsiElement(VAR)('balance_of_sender')
                                    PsiWhiteSpace(' ')
                                    PsiElement(<)('<')
                                    PsiElement(-)('-')
                                    PsiWhiteSpace(' ')
                                    RhoChanImpl(CHAN)
                                      PsiElement(VAR)('x')
                                    PsiWhiteSpace('\n                              ')
                                    PsiElement(;)(';')
                                    PsiWhiteSpace(' ')
                                    RhoCPatternImpl(C_PATTERN)
                                      RhoCPattern_Impl(C_PATTERN_)
                                        RhoVarPatternImpl(VAR_PATTERN)
                                          PsiElement(VAR)('balance_of_receiver')
                                    PsiWhiteSpace(' ')
                                    PsiElement(<)('<')
                                    PsiElement(-)('-')
                                    PsiWhiteSpace(' ')
                                    RhoChanImpl(CHAN)
                                      PsiElement(VAR)('y')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                RhoProcBlockImpl(PROC_BLOCK)
                                  PsiElement({)('{')
                                  PsiWhiteSpace('\n                                ')
                                  PsiComment(LINE_COMMENT)('// Preconditions to check before the transfer goes through')
                                  PsiWhiteSpace('\n                                ')
                                  RhoProcImpl(PROC)
                                    RhoMatchWithImpl(MATCH_WITH)
                                      PsiElement(match)('match')
                                      PsiWhiteSpace(' ')
                                      RhoProcImpl(PROC)
                                        RhoValueImpl(VALUE)
                                          RhoQuantityImpl(QUANTITY)
                                            RhoProcBracketImpl(PROC_BRACKET)
                                              PsiElement([)('[')
                                              PsiWhiteSpace('\n                                  ')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_sender')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>=)('>=')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace('\n                                  ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>)('>')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace('\n                                  ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_receiver')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(+)('+')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>)('>')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_receiver')
                                              PsiWhiteSpace('\n                                ')
                                              PsiElement(])(']')
                                      PsiWhiteSpace(' ')
                                      PsiElement(with)('with')
                                      PsiWhiteSpace('\n                                    ')
                                      RhoPMBranchImpl(PM_BRANCH)
                                        RhoPPatternImpl(P_PATTERN)
                                          RhoValPatternImpl(VAL_PATTERN)
                                            PsiElement([)('[')
                                            RhoPPatternImpl(P_PATTERN)
                                              RhoValPatternImpl(VAL_PATTERN)
                                                PsiElement(true)('true')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                PsiElement(true)('true')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                PsiElement(true)('true')
                                            PsiElement(])(']')
                                        PsiWhiteSpace(' ')
                                        PsiElement(=>)('=>')
                                        PsiWhiteSpace(' ')
                                        RhoProcBlockImpl(PROC_BLOCK)
                                          PsiElement({)('{')
                                          PsiWhiteSpace('\n                                        ')
                                          RhoProcImpl(PROC)
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('balances_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              PsiWhiteSpace('\n                                          ')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoProcParenImpl(PROC_PAREN)
                                                      PsiElement(()('(')
                                                      RhoProcImpl(PROC)
                                                        RhoValueImpl(VALUE)
                                                          RhoQuantityImpl(QUANTITY)
                                                            RhoQValImpl(Q_VAL)
                                                              PsiElement(VAR)('balances')
                                                              PsiWhiteSpace('\n                                          ')
                                                              PsiElement(.)('.')
                                                              RhoProcImpl(PROC)
                                                                RhoConstrNameImpl(CONSTR_NAME)
                                                                  PsiElement(VAR)('insert')
                                                                RhoProcParenImpl(PROC_PAREN)
                                                                  PsiElement(()('(')
                                                                  RhoProcImpl(PROC)
                                                                    RhoValueImpl(VALUE)
                                                                      RhoQuantityImpl(QUANTITY)
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('message_sender')
                                                                    PsiElement(,)(',')
                                                                    PsiWhiteSpace(' ')
                                                                    RhoValueImpl(VALUE)
                                                                      RhoQuantityImpl(QUANTITY)
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('balance_of_sender')
                                                                        PsiWhiteSpace(' ')
                                                                        PsiElement(-)('-')
                                                                        PsiWhiteSpace(' ')
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('amount')
                                                                  PsiElement())(')')
                                                      PsiElement())(')')
                                                PsiWhiteSpace('\n                                          ')
                                                PsiElement(.)('.')
                                                RhoConstrNameImpl(CONSTR_NAME)
                                                  PsiElement(VAR)('insert')
                                                RhoProcParenImpl(PROC_PAREN)
                                                  PsiElement(()('(')
                                                  RhoProcImpl(PROC)
                                                    RhoValueImpl(VALUE)
                                                      RhoQuantityImpl(QUANTITY)
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('to')
                                                    PsiElement(,)(',')
                                                    PsiWhiteSpace(' ')
                                                    RhoValueImpl(VALUE)
                                                      RhoQuantityImpl(QUANTITY)
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('balance_of_receiver')
                                                        PsiElement(+)('+')
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('amount')
                                                  PsiElement())(')')
                                              PsiWhiteSpace('\n                                        ')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('rtn')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(true)('true')
                                              PsiElement())(')')
                                          PsiWhiteSpace('\n                                    ')
                                          PsiElement(})('}')
                                        PsiWhiteSpace('\n                                    ')
                                        RhoPPatternImpl(P_PATTERN)
                                          RhoVarPatternImpl(VAR_PATTERN)
                                            PsiElement(VAR)('_')
                                        PsiWhiteSpace(' ')
                                        PsiElement(=>)('=>')
                                        PsiWhiteSpace(' ')
                                        RhoProcBlockImpl(PROC_BLOCK)
                                          PsiElement({)('{')
                                          PsiWhiteSpace('\n                                        ')
                                          RhoProcImpl(PROC)
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('balances_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balances')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('rtn')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(false)('false')
                                              PsiElement())(')')
                                          PsiWhiteSpace('\n                                    ')
                                          PsiElement(})('}')
                                  PsiWhiteSpace('\n                            ')
                                  PsiElement(})('}')
                              PsiWhiteSpace('\n                        ')
                              PsiElement(})('}')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// Same as the transfer contract but allows for the sender to be different from')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// the person calling the transfer_from contract')
                    PsiWhiteSpace('\n                ')
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('transfer_from')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('message_sender')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('from')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('to')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('amount')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('balances')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('balances_channel')
                            PsiWhiteSpace('\n                      ')
                            PsiElement(;)(';')
                            PsiWhiteSpace(' ')
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('allowed')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('allowed_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            PsiElement(new)('new')
                            PsiWhiteSpace(' ')
                            RhoVarPatternImpl(VAR_PATTERN)
                              PsiElement(VAR)('x')
                              PsiElement(,)(',')
                              PsiWhiteSpace(' ')
                              PsiElement(VAR)('y')
                              PsiElement(,)(',')
                              PsiWhiteSpace(' ')
                              PsiElement(VAR)('z')
                            PsiWhiteSpace(' ')
                            PsiElement(in)('in')
                            PsiWhiteSpace(' ')
                            RhoProcBlockImpl(PROC_BLOCK)
                              PsiElement({)('{')
                              PsiWhiteSpace('\n                            ')
                              RhoProcImpl(PROC)
                                RhoChanImpl(CHAN)
                                  PsiElement(VAR)('x')
                                PsiElement(!)('!')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('balances')
                                          PsiElement(.)('.')
                                          RhoProcImpl(PROC)
                                            RhoConstrNameImpl(CONSTR_NAME)
                                              PsiElement(VAR)('getOrElse')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('from')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                              PsiElement())(')')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(|)('|')
                                PsiWhiteSpace('\n                            ')
                                RhoChanImpl(CHAN)
                                  PsiElement(VAR)('y')
                                PsiElement(!)('!')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('allowed')
                                          PsiElement(.)('.')
                                          RhoProcImpl(PROC)
                                            RhoConstrNameImpl(CONSTR_NAME)
                                              PsiElement(VAR)('getOrElse')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('from')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('message_sender')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                              PsiElement())(')')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(|)('|')
                                PsiWhiteSpace('\n                            ')
                                RhoChanImpl(CHAN)
                                  PsiElement(VAR)('z')
                                PsiElement(!)('!')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(VAR)('balances')
                                          PsiElement(.)('.')
                                          RhoProcImpl(PROC)
                                            RhoConstrNameImpl(CONSTR_NAME)
                                              PsiElement(VAR)('getOrElse')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('to')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                              PsiElement())(')')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(|)('|')
                                PsiWhiteSpace('\n                            ')
                                PsiElement(for)('for')
                                PsiWhiteSpace(' ')
                                RhoBindParenImpl(BIND_PAREN)
                                  PsiElement(()('(')
                                  PsiWhiteSpace(' ')
                                  RhoBindImpl(BIND)
                                    RhoCPatternImpl(C_PATTERN)
                                      RhoCPattern_Impl(C_PATTERN_)
                                        RhoVarPatternImpl(VAR_PATTERN)
                                          PsiElement(VAR)('balance_of_sender')
                                    PsiWhiteSpace(' ')
                                    PsiElement(<)('<')
                                    PsiElement(-)('-')
                                    PsiWhiteSpace(' ')
                                    RhoChanImpl(CHAN)
                                      PsiElement(VAR)('x')
                                    PsiWhiteSpace('\n                              ')
                                    PsiElement(;)(';')
                                    PsiWhiteSpace(' ')
                                    RhoCPatternImpl(C_PATTERN)
                                      RhoCPattern_Impl(C_PATTERN_)
                                        RhoVarPatternImpl(VAR_PATTERN)
                                          PsiElement(VAR)('sender_allowed')
                                    PsiWhiteSpace(' ')
                                    PsiElement(<)('<')
                                    PsiElement(-)('-')
                                    PsiWhiteSpace(' ')
                                    RhoChanImpl(CHAN)
                                      PsiElement(VAR)('y')
                                    PsiWhiteSpace('\n                              ')
                                    PsiElement(;)(';')
                                    PsiWhiteSpace(' ')
                                    RhoCPatternImpl(C_PATTERN)
                                      RhoCPattern_Impl(C_PATTERN_)
                                        RhoVarPatternImpl(VAR_PATTERN)
                                          PsiElement(VAR)('balance_of_receiver')
                                    PsiWhiteSpace(' ')
                                    PsiElement(<)('<')
                                    PsiElement(-)('-')
                                    PsiWhiteSpace(' ')
                                    RhoChanImpl(CHAN)
                                      PsiElement(VAR)('z')
                                  PsiWhiteSpace(' ')
                                  PsiElement())(')')
                                PsiWhiteSpace(' ')
                                RhoProcBlockImpl(PROC_BLOCK)
                                  PsiElement({)('{')
                                  PsiWhiteSpace('\n                                ')
                                  RhoProcImpl(PROC)
                                    RhoMatchWithImpl(MATCH_WITH)
                                      PsiElement(match)('match')
                                      PsiWhiteSpace(' ')
                                      RhoProcImpl(PROC)
                                        RhoValueImpl(VALUE)
                                          RhoQuantityImpl(QUANTITY)
                                            RhoProcBracketImpl(PROC_BRACKET)
                                              PsiElement([)('[')
                                              PsiWhiteSpace('\n                                  ')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_sender')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>=)('>=')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace('\n                                  ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('sender_allowed')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>=)('>=')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace('\n                                  ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>)('>')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(DEC_LIT)('0')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace('\n                                  ')
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_receiver')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(+)('+')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('amount')
                                                    PsiWhiteSpace(' ')
                                                    PsiElement(>)('>')
                                                    PsiWhiteSpace(' ')
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balance_of_receiver')
                                              PsiWhiteSpace('\n                                ')
                                              PsiElement(])(']')
                                      PsiWhiteSpace(' ')
                                      PsiElement(with)('with')
                                      PsiWhiteSpace('\n                                    ')
                                      RhoPMBranchImpl(PM_BRANCH)
                                        RhoPPatternImpl(P_PATTERN)
                                          RhoValPatternImpl(VAL_PATTERN)
                                            PsiElement([)('[')
                                            RhoPPatternImpl(P_PATTERN)
                                              RhoValPatternImpl(VAL_PATTERN)
                                                PsiElement(true)('true')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                PsiElement(true)('true')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                PsiElement(true)('true')
                                                PsiElement(,)(',')
                                                PsiWhiteSpace(' ')
                                                PsiElement(true)('true')
                                            PsiElement(])(']')
                                        PsiWhiteSpace(' ')
                                        PsiElement(=>)('=>')
                                        PsiWhiteSpace(' ')
                                        RhoProcBlockImpl(PROC_BLOCK)
                                          PsiElement({)('{')
                                          PsiWhiteSpace('\n                                        ')
                                          RhoProcImpl(PROC)
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('balances_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              PsiWhiteSpace('\n                                          ')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoProcParenImpl(PROC_PAREN)
                                                      PsiElement(()('(')
                                                      RhoProcImpl(PROC)
                                                        RhoValueImpl(VALUE)
                                                          RhoQuantityImpl(QUANTITY)
                                                            RhoQValImpl(Q_VAL)
                                                              PsiElement(VAR)('balances')
                                                              PsiWhiteSpace('\n                                          ')
                                                              PsiElement(.)('.')
                                                              RhoProcImpl(PROC)
                                                                RhoConstrNameImpl(CONSTR_NAME)
                                                                  PsiElement(VAR)('insert')
                                                                RhoProcParenImpl(PROC_PAREN)
                                                                  PsiElement(()('(')
                                                                  RhoProcImpl(PROC)
                                                                    RhoValueImpl(VALUE)
                                                                      RhoQuantityImpl(QUANTITY)
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('from')
                                                                    PsiElement(,)(',')
                                                                    PsiWhiteSpace(' ')
                                                                    RhoValueImpl(VALUE)
                                                                      RhoQuantityImpl(QUANTITY)
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('balance_of_sender')
                                                                        PsiWhiteSpace(' ')
                                                                        PsiElement(-)('-')
                                                                        PsiWhiteSpace(' ')
                                                                        RhoQValImpl(Q_VAL)
                                                                          PsiElement(VAR)('amount')
                                                                  PsiElement())(')')
                                                      PsiElement())(')')
                                                PsiWhiteSpace('\n                                          ')
                                                PsiElement(.)('.')
                                                RhoConstrNameImpl(CONSTR_NAME)
                                                  PsiElement(VAR)('insert')
                                                RhoProcParenImpl(PROC_PAREN)
                                                  PsiElement(()('(')
                                                  RhoProcImpl(PROC)
                                                    RhoValueImpl(VALUE)
                                                      RhoQuantityImpl(QUANTITY)
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('to')
                                                    PsiElement(,)(',')
                                                    PsiWhiteSpace(' ')
                                                    RhoValueImpl(VALUE)
                                                      RhoQuantityImpl(QUANTITY)
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('balance_of_receiver')
                                                        PsiWhiteSpace(' ')
                                                        PsiElement(+)('+')
                                                        PsiWhiteSpace(' ')
                                                        RhoQValImpl(Q_VAL)
                                                          PsiElement(VAR)('amount')
                                                  PsiElement())(')')
                                              PsiWhiteSpace('\n                                        ')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('allowed_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              PsiWhiteSpace('\n                                          ')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('allowed')
                                                      PsiElement(.)('.')
                                                      RhoProcImpl(PROC)
                                                        RhoConstrNameImpl(CONSTR_NAME)
                                                          PsiElement(VAR)('insert')
                                                        RhoProcParenImpl(PROC_PAREN)
                                                          PsiElement(()('(')
                                                          RhoProcImpl(PROC)
                                                            RhoValueImpl(VALUE)
                                                              RhoQuantityImpl(QUANTITY)
                                                                RhoQValImpl(Q_VAL)
                                                                  PsiElement(VAR)('from')
                                                            PsiElement(,)(',')
                                                            PsiWhiteSpace(' ')
                                                            RhoValueImpl(VALUE)
                                                              RhoQuantityImpl(QUANTITY)
                                                                RhoQValImpl(Q_VAL)
                                                                  PsiElement(VAR)('message_sender')
                                                            PsiElement(,)(',')
                                                            PsiWhiteSpace(' ')
                                                            RhoValueImpl(VALUE)
                                                              RhoQuantityImpl(QUANTITY)
                                                                RhoQValImpl(Q_VAL)
                                                                  PsiElement(VAR)('sender_allowed')
                                                                PsiWhiteSpace(' ')
                                                                PsiElement(-)('-')
                                                                PsiWhiteSpace(' ')
                                                                RhoQValImpl(Q_VAL)
                                                                  PsiElement(VAR)('amount')
                                                          PsiElement())(')')
                                              PsiWhiteSpace('\n                                        ')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('rtn')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(true)('true')
                                              PsiElement())(')')
                                          PsiWhiteSpace('\n                                    ')
                                          PsiElement(})('}')
                                        PsiWhiteSpace('\n                                    ')
                                        RhoPPatternImpl(P_PATTERN)
                                          RhoVarPatternImpl(VAR_PATTERN)
                                            PsiElement(VAR)('_')
                                        PsiWhiteSpace(' ')
                                        PsiElement(=>)('=>')
                                        PsiWhiteSpace(' ')
                                        RhoProcBlockImpl(PROC_BLOCK)
                                          PsiElement({)('{')
                                          PsiWhiteSpace('\n                                        ')
                                          RhoProcImpl(PROC)
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('balances_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('balances')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('allowed_channel')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(VAR)('allowed')
                                              PsiElement())(')')
                                            PsiWhiteSpace(' ')
                                            PsiElement(|)('|')
                                            PsiWhiteSpace('\n                                        ')
                                            RhoChanImpl(CHAN)
                                              PsiElement(VAR)('rtn')
                                            PsiElement(!)('!')
                                            RhoProcParenImpl(PROC_PAREN)
                                              PsiElement(()('(')
                                              RhoProcImpl(PROC)
                                                RhoValueImpl(VALUE)
                                                  RhoQuantityImpl(QUANTITY)
                                                    RhoQValImpl(Q_VAL)
                                                      PsiElement(false)('false')
                                              PsiElement())(')')
                                          PsiWhiteSpace('\n                                    ')
                                          PsiElement(})('}')
                                  PsiWhiteSpace('\n                            ')
                                  PsiElement(})('}')
                              PsiWhiteSpace('\n                        ')
                              PsiElement(})('}')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// This is the way an address can pre-approve (delegate) the transfer of')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// a certain amount of tokens to some other address. This allows for')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// that other address, through the use of the transfer_from function,')
                    PsiWhiteSpace('\n                ')
                    PsiComment(LINE_COMMENT)('// to send up to that amount of tokens.')
                    PsiWhiteSpace('\n                ')
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('approve')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('message_sender')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('spender')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('amount')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('allowed')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('allowed_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('allowed_channel')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('allowed')
                                      PsiElement(.)('.')
                                      RhoProcImpl(PROC)
                                        RhoConstrNameImpl(CONSTR_NAME)
                                          PsiElement(VAR)('insert')
                                        RhoProcParenImpl(PROC_PAREN)
                                          PsiElement(()('(')
                                          RhoProcImpl(PROC)
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('message_sender')
                                            PsiElement(,)(',')
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('spender')
                                            PsiElement(,)(',')
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('amount')
                                          PsiElement())(')')
                              PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(|)('|')
                            PsiWhiteSpace('\n                        ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('rtn')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(true)('true')
                              PsiElement())(')')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('balance_of')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('owner')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('balances')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('balances_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('rtn')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('balances')
                                      PsiElement(.)('.')
                                      RhoProcImpl(PROC)
                                        RhoConstrNameImpl(CONSTR_NAME)
                                          PsiElement(VAR)('getOrElse')
                                        RhoProcParenImpl(PROC_PAREN)
                                          PsiElement(()('(')
                                          RhoProcImpl(PROC)
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('owner')
                                            PsiElement(,)(',')
                                            PsiWhiteSpace(' ')
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(DEC_LIT)('0')
                                          PsiElement())(')')
                              PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(|)('|')
                            PsiWhiteSpace('\n                        ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('balances_channel')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('balances')
                              PsiElement())(')')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('allowance')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('owner')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('spender')
                          PsiElement(,)(',')
                          PsiWhiteSpace(' ')
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('allowed')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('allowed_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('allowed_channel')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('allowed')
                              PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(|)('|')
                            PsiWhiteSpace('\n                        ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('rtn')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('allowed')
                                      PsiElement(.)('.')
                                      RhoProcImpl(PROC)
                                        RhoConstrNameImpl(CONSTR_NAME)
                                          PsiElement(VAR)('getOrElse')
                                        RhoProcParenImpl(PROC_PAREN)
                                          PsiElement(()('(')
                                          RhoProcImpl(PROC)
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('owner')
                                            PsiElement(,)(',')
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(VAR)('spender')
                                            PsiElement(,)(',')
                                            RhoValueImpl(VALUE)
                                              RhoQuantityImpl(QUANTITY)
                                                RhoQValImpl(Q_VAL)
                                                  PsiElement(DEC_LIT)('0')
                                          PsiElement())(')')
                              PsiElement())(')')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(contract)('contract')
                    PsiWhiteSpace(' ')
                    RhoContractNameImpl(CONTRACT_NAME)
                      PsiElement(VAR)('contract_owner')
                    PsiElement(()('(')
                    RhoCPatternImpl(C_PATTERN)
                      RhoCPattern_Impl(C_PATTERN_)
                        RhoVarPatternImpl(VAR_PATTERN)
                          PsiElement(VAR)('rtn')
                    PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(=)('=')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        PsiElement(for)('for')
                        PsiWhiteSpace(' ')
                        RhoBindParenImpl(BIND_PAREN)
                          PsiElement(()('(')
                          RhoBindImpl(BIND)
                            RhoCPatternImpl(C_PATTERN)
                              RhoCPattern_Impl(C_PATTERN_)
                                RhoVarPatternImpl(VAR_PATTERN)
                                  PsiElement(VAR)('owner')
                            PsiWhiteSpace(' ')
                            PsiElement(<)('<')
                            PsiElement(-)('-')
                            PsiWhiteSpace(' ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('owner_channel')
                          PsiElement())(')')
                        PsiWhiteSpace(' ')
                        RhoProcBlockImpl(PROC_BLOCK)
                          PsiElement({)('{')
                          PsiWhiteSpace('\n                        ')
                          RhoProcImpl(PROC)
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('owner_channel')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('owner')
                              PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(|)('|')
                            PsiWhiteSpace('\n                        ')
                            RhoChanImpl(CHAN)
                              PsiElement(VAR)('rtn')
                            PsiElement(!)('!')
                            RhoProcParenImpl(PROC_PAREN)
                              PsiElement(()('(')
                              RhoProcImpl(PROC)
                                RhoValueImpl(VALUE)
                                  RhoQuantityImpl(QUANTITY)
                                    RhoQValImpl(Q_VAL)
                                      PsiElement(VAR)('owner')
                              PsiElement())(')')
                          PsiWhiteSpace('\n                    ')
                          PsiElement(})('}')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    RhoChanImpl(CHAN)
                      PsiElement(VAR)('return_channel')
                    PsiElement(!)('!')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      PsiWhiteSpace('\n                  ')
                      RhoProcImpl(PROC)
                        RhoConstrNameImpl(CONSTR_NAME)
                          PsiElement(VAR)('Map')
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          PsiElement())(')')
                        PsiElement(.)('.')
                        RhoConstrNameImpl(CONSTR_NAME)
                          PsiElement(VAR)('insertMany')
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          RhoProcImpl(PROC)
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"transfer"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('transfer')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"transfer_from"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('transfer_from')
                            PsiElement(,)(',')
                            PsiWhiteSpace('\n                  ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"approve"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('approve')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"balance_of"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('balance_of')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"allowance"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('allowance')
                            PsiElement(,)(',')
                            PsiWhiteSpace('\n                  ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(STRING_LIT)('"contract_owner"')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('contract_owner')
                          PsiElement())(')')
                      PsiElement())(')')
                  PsiWhiteSpace('\n                ')
                  PsiComment(LINE_COMMENT)('// TODO: Eventually just insert with compiler')
                  PsiWhiteSpace('\n            ')
                  PsiElement(})('}')
              PsiWhiteSpace('\n        ')
              PsiElement(})('}')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
        PsiWhiteSpace(' ')
        PsiElement(|)('|')
        PsiWhiteSpace('\n    ')
        PsiElement(new)('new')
        PsiWhiteSpace(' ')
        RhoVarPatternImpl(VAR_PATTERN)
          PsiElement(VAR)('rtn')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          PsiElement(VAR)('me')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          PsiElement(VAR)('they')
        PsiWhiteSpace(' ')
        PsiElement(in)('in')
        PsiWhiteSpace(' ')
        RhoProcBlockImpl(PROC_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          RhoProcImpl(PROC)
            RhoChanImpl(CHAN)
              PsiElement(VAR)('token')
            PsiElement(!)('!')
            RhoProcParenImpl(PROC_PAREN)
              PsiElement(()('(')
              RhoProcImpl(PROC)
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(VAR)('me')
                PsiElement(,)(',')
                PsiWhiteSpace(' ')
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(DEC_LIT)('100')
                PsiElement(,)(',')
                PsiWhiteSpace(' ')
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(VAR)('rtn')
              PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(|)('|')
            PsiWhiteSpace('\n        ')
            PsiElement(for)('for')
            PsiWhiteSpace(' ')
            RhoBindParenImpl(BIND_PAREN)
              PsiElement(()('(')
              RhoBindImpl(BIND)
                RhoCPatternImpl(C_PATTERN)
                  RhoCPattern_Impl(C_PATTERN_)
                    RhoVarPatternImpl(VAR_PATTERN)
                      PsiElement(VAR)('token_contract')
                PsiWhiteSpace(' ')
                PsiElement(<)('<')
                PsiElement(-)('-')
                PsiWhiteSpace(' ')
                RhoChanImpl(CHAN)
                  PsiElement(VAR)('rtn')
              PsiElement())(')')
            PsiWhiteSpace(' ')
            RhoProcBlockImpl(PROC_BLOCK)
              PsiElement({)('{')
              PsiWhiteSpace('\n            ')
              RhoProcImpl(PROC)
                PsiElement(new)('new')
                PsiWhiteSpace(' ')
                RhoVarPatternImpl(VAR_PATTERN)
                  PsiElement(VAR)('unused_rtn')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('balance_of_rtn')
                PsiWhiteSpace(' ')
                PsiElement(in)('in')
                PsiWhiteSpace(' ')
                RhoProcBlockImpl(PROC_BLOCK)
                  PsiElement({)('{')
                  PsiWhiteSpace('\n                ')
                  RhoProcImpl(PROC)
                    PsiElement(@)('@')
                    PsiElement(VAR)('token_contract')
                    PsiElement(.)('.')
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('get')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(STRING_LIT)('"transfer"')
                      PsiElement())(')')
                    PsiElement(!)('!')
                    RhoValueImpl(VALUE)
                      RhoQuantityImpl(QUANTITY)
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          RhoProcImpl(PROC)
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('me')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('they')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(DEC_LIT)('50')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('unused_rtn')
                          PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(@)('@')
                    PsiElement(VAR)('token_contract')
                    PsiElement(.)('.')
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('get')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(STRING_LIT)('"balance_of"')
                      PsiElement())(')')
                    PsiElement(!)('!')
                    RhoValueImpl(VALUE)
                      RhoQuantityImpl(QUANTITY)
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          RhoProcImpl(PROC)
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('they')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('balance_of_rtn')
                          PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(for)('for')
                    PsiWhiteSpace(' ')
                    RhoBindParenImpl(BIND_PAREN)
                      PsiElement(()('(')
                      RhoBindImpl(BIND)
                        RhoCPatternImpl(C_PATTERN)
                          RhoCPattern_Impl(C_PATTERN_)
                            RhoVarPatternImpl(VAR_PATTERN)
                              PsiElement(VAR)('they_balance')
                        PsiWhiteSpace(' ')
                        PsiElement(<)('<')
                        PsiElement(-)('-')
                        PsiWhiteSpace(' ')
                        RhoChanImpl(CHAN)
                          PsiElement(VAR)('balance_of_rtn')
                      PsiElement())(')')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(VAR)('they_balance')
                              PsiElement(.)('.')
                              RhoProcImpl(PROC)
                                RhoConstrNameImpl(CONSTR_NAME)
                                  PsiElement(VAR)('display')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(STRING_LIT)('"\n"')
                                  PsiElement())(')')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                  PsiWhiteSpace('\n            ')
                  PsiElement(})('}')
              PsiWhiteSpace('\n        ')
              PsiElement(})('}')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
        PsiWhiteSpace(' ')
        PsiElement(|)('|')
        PsiWhiteSpace('\n    ')
        PsiElement(new)('new')
        PsiWhiteSpace(' ')
        RhoVarPatternImpl(VAR_PATTERN)
          PsiElement(VAR)('rtn2')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          PsiElement(VAR)('me2')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          PsiElement(VAR)('they2')
        PsiWhiteSpace(' ')
        PsiElement(in)('in')
        PsiWhiteSpace(' ')
        RhoProcBlockImpl(PROC_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n        ')
          RhoProcImpl(PROC)
            RhoChanImpl(CHAN)
              PsiElement(VAR)('token')
            PsiElement(!)('!')
            RhoProcParenImpl(PROC_PAREN)
              PsiElement(()('(')
              RhoProcImpl(PROC)
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(VAR)('me2')
                PsiElement(,)(',')
                PsiWhiteSpace(' ')
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(DEC_LIT)('1000')
                PsiElement(,)(',')
                PsiWhiteSpace(' ')
                RhoValueImpl(VALUE)
                  RhoQuantityImpl(QUANTITY)
                    RhoQValImpl(Q_VAL)
                      PsiElement(VAR)('rtn2')
              PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(|)('|')
            PsiWhiteSpace('\n        ')
            PsiElement(for)('for')
            PsiWhiteSpace(' ')
            RhoBindParenImpl(BIND_PAREN)
              PsiElement(()('(')
              RhoBindImpl(BIND)
                RhoCPatternImpl(C_PATTERN)
                  RhoCPattern_Impl(C_PATTERN_)
                    RhoVarPatternImpl(VAR_PATTERN)
                      PsiElement(VAR)('token_contract2')
                PsiWhiteSpace(' ')
                PsiElement(<)('<')
                PsiElement(-)('-')
                PsiWhiteSpace(' ')
                RhoChanImpl(CHAN)
                  PsiElement(VAR)('rtn2')
              PsiElement())(')')
            PsiWhiteSpace(' ')
            RhoProcBlockImpl(PROC_BLOCK)
              PsiElement({)('{')
              PsiWhiteSpace('\n            ')
              RhoProcImpl(PROC)
                PsiElement(new)('new')
                PsiWhiteSpace(' ')
                RhoVarPatternImpl(VAR_PATTERN)
                  PsiElement(VAR)('unused_rtn2')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  PsiElement(VAR)('balance_of_rtn2')
                PsiWhiteSpace(' ')
                PsiElement(in)('in')
                PsiWhiteSpace(' ')
                RhoProcBlockImpl(PROC_BLOCK)
                  PsiElement({)('{')
                  PsiWhiteSpace('\n                ')
                  RhoProcImpl(PROC)
                    PsiElement(@)('@')
                    PsiElement(VAR)('token_contract2')
                    PsiElement(.)('.')
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('get')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(STRING_LIT)('"transfer"')
                      PsiElement())(')')
                    PsiElement(!)('!')
                    RhoValueImpl(VALUE)
                      RhoQuantityImpl(QUANTITY)
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          RhoProcImpl(PROC)
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('me2')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('they2')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(DEC_LIT)('500')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('unused_rtn2')
                          PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(@)('@')
                    PsiElement(VAR)('token_contract2')
                    PsiElement(.)('.')
                    RhoConstrNameImpl(CONSTR_NAME)
                      PsiElement(VAR)('get')
                    RhoProcParenImpl(PROC_PAREN)
                      PsiElement(()('(')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(STRING_LIT)('"balance_of"')
                      PsiElement())(')')
                    PsiElement(!)('!')
                    RhoValueImpl(VALUE)
                      RhoQuantityImpl(QUANTITY)
                        RhoProcParenImpl(PROC_PAREN)
                          PsiElement(()('(')
                          RhoProcImpl(PROC)
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('they2')
                            PsiElement(,)(',')
                            PsiWhiteSpace(' ')
                            RhoValueImpl(VALUE)
                              RhoQuantityImpl(QUANTITY)
                                RhoQValImpl(Q_VAL)
                                  PsiElement(VAR)('balance_of_rtn2')
                          PsiElement())(')')
                    PsiWhiteSpace(' ')
                    PsiElement(|)('|')
                    PsiWhiteSpace('\n                ')
                    PsiElement(for)('for')
                    PsiWhiteSpace(' ')
                    RhoBindParenImpl(BIND_PAREN)
                      PsiElement(()('(')
                      RhoBindImpl(BIND)
                        RhoCPatternImpl(C_PATTERN)
                          RhoCPattern_Impl(C_PATTERN_)
                            RhoVarPatternImpl(VAR_PATTERN)
                              PsiElement(VAR)('they_balance2')
                        PsiWhiteSpace(' ')
                        PsiElement(<)('<')
                        PsiElement(-)('-')
                        PsiWhiteSpace(' ')
                        RhoChanImpl(CHAN)
                          PsiElement(VAR)('balance_of_rtn2')
                      PsiElement())(')')
                    PsiWhiteSpace(' ')
                    RhoProcBlockImpl(PROC_BLOCK)
                      PsiElement({)('{')
                      PsiWhiteSpace('\n                    ')
                      RhoProcImpl(PROC)
                        RhoValueImpl(VALUE)
                          RhoQuantityImpl(QUANTITY)
                            RhoQValImpl(Q_VAL)
                              PsiElement(VAR)('they_balance2')
                              PsiElement(.)('.')
                              RhoProcImpl(PROC)
                                RhoConstrNameImpl(CONSTR_NAME)
                                  PsiElement(VAR)('display')
                                RhoProcParenImpl(PROC_PAREN)
                                  PsiElement(()('(')
                                  RhoProcImpl(PROC)
                                    RhoValueImpl(VALUE)
                                      RhoQuantityImpl(QUANTITY)
                                        RhoQValImpl(Q_VAL)
                                          PsiElement(STRING_LIT)('"\n"')
                                  PsiElement())(')')
                      PsiWhiteSpace('\n                ')
                      PsiElement(})('}')
                  PsiWhiteSpace('\n            ')
                  PsiElement(})('}')
              PsiWhiteSpace('\n        ')
              PsiElement(})('}')
          PsiWhiteSpace('\n    ')
          PsiElement(})('}')
      PsiWhiteSpace('\n    ')
      PsiComment(LINE_COMMENT)('// Once we have a registry, we can do registry_channel!(token) to save the contract there')
      PsiWhiteSpace('\n')
      PsiElement(})('}')
